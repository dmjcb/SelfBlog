<!--
 * @Brief        : 
 * @Author       : dmjcb
 * @Date         : 2021-10-10 00:15:19
 * @LastEditors  : dmjcb@outlook.com
 * @LastEditTime : 2024-09-24 23:14:05
-->

# 变量

## 定义

```sh
变量名=值
```

```sh
a=123
```

- 只读变量
  
```sh
readonly 变量名
```

## 使用

```sh
${变量名}
```

```sh
a=123

echo ${a}
```

## 字符串

### 单引号

```sh
s='this is a string'
```

单引号里的变量无效, 任何字符都会原样输出

单引号字符串中不能出现单独一个的单引号(对单引号使用转义符后也不行), 但可成对出现, 作为字符串拼接使用

### 双引号

```sh
n="runoob"

s="Hello, I know you are "${n}""
```

双引号字符串中可出现变量

### 函数

- 获取字符串长度
  
```sh
${#字符串}
```

```sh
s="abcdefg"
# 7
${#s}
```

- 从index下标截取n个字符
  
```sh
${字符串:index:n}
```

```sh
s="abcdefg"

# cde
${s:2:3}
```

- 字符转换

| 函数         | 作用                     |
| ------------ | ----------------------- |
| ${字符串, }  | 首字符换成小写            |
| ${字符串,, } | 所有大写字母全部替换为小写 |
| ${字符串^}   | 首字符换成大写            |
| ${字符串^^}  | 所有小写字母全部替换为大写 |

- 判断字符串是否空

```sh
# 1.直接判断
if ! ${n};then
...
fi

# 2.test命令判断
if test -z "${n}";then
...
fi

# 3.空判断
if "${n}" = "";then
...
fi
```

## 数组

数组用括号表示, 元素用空格分割

### 数组定义

- 括号定义

```sh
array=(元素1 元素2 ...)
```

- 下标定义

```sh
array[0]=v1
array[1]=v2
...
```

### 读取

- 单个读取
  
```sh
${array[下标]}
```

```sh
a=(1 2 3 4 5)

# 1
${a[0]}

# 3
${a[2]}
```

- 全部获取

```sh
${array[*]} 或 ${array[@]}
```

```sh
a=(1 2 3 4 5)

# 1 2 3 4 5
${a[*]}
```

### 函数

- 获取长度

```sh
${#array[*]} 或  ${#array[@]}
```

```sh
a=(1 2 3 4 5)

# 5
${#a[*]}
```

## {}与()

`()`将命令置于子Shell中执行

`{}`将命令在同哥Shell内完成

获取VLC的pid, 关闭VLC

```sh
#!/bin/bash

pid=${ps -aux | grep vlc | grep -v grep | awk '{print $2}'}

if ! "${pid}";then
    sudo kill -9 ${pid}
fi
```
