<!--
 * @Brief        : 
 * @Author       : dmjcb
 * @Date         : 2021-01-16 17:59:34
 * @LastEditors  : dmjcb@outlook.com
 * @LastEditTime : 2024-09-23 23:09:34
-->

# 计算机启动过程

> [从零开始写 OS 内核 - BIOS 启动到实模式](https://segmentfault.com/a/1190000040131294)

## 读取 BIOS

按下电源按钮后, 计算机首先读取一块存储有基本输入输出系統即 BIOS 程序的芯片

开机后 CPU 初始模式是实模式, 地址宽度为 20 位, 即最大地址空间 1MB, 其划分固定，每一块都被映射到不同设备上

![](/.imgur/20240923_230527.jpg)


## 硬件自检

BIOS 会检查计算机硬件是否满足运行条件, 若硬件出现问题, 主板会发出不同含义的蜂鸣, 启动中止

## 启动程序

硬件检查完成后, BIOS 会将控制权交给下一阶段的启动程序

下一阶段的启动程序可能存放在硬盘中, 也可能存放在 CD/DVD 中, 或者软盘中等等, 可以设置BIOS选择从哪个设备启动

## 主引导记录

$BIOS$ 找到下一阶段的启动程序所在设备, 会读取该设备的第一个扇区, 即读取最前面的 $512$ 字节, 称为主引导记录

主引导记录会告诉计算机下一步到哪里去找操作系统.

## bootloader

计算机读取主引导记录前面 $446$ 字节的机器码之后, 运行事先安装的启动管理器bootloader, 由用户选择启动哪个操作系统(多系统用户就需在此选择)

## 加载内核

选择操作系统(内核)后, 会加载内核, 交给内核处理
