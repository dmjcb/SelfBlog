<!--
 * @Author       : dmjcb@outlook.com
 * @Date         : 2024-09-04 02:23:02
 * @LastEditors  : dmjcb@outlook.com
 * @LastEditTime : 2024-09-24 20:42:20
-->

# 操作

## exec

容器执行命令

```shell
docker exec [参数] 镜像ID {命令}
```

| 参数 | 含义                       |
| ---- | ------------------------- |
| `-i` | 即使没有附加也保持STDIN打开 |
| `-t` | 分配一个伪终端             |
| `-d` | 分离模式, 在后台运         |

### 单指令

```sh
docker exec [参数] 镜像ID 命令
```

- busybox容器创建目录test

```sh
docker run -itd --name=box busybox 

docker exec -it box mkdir test
```

![](https://raw.githubusercontent.com/dmjcb/SelfImgur/main/20220112043735.png)


### 多指令

```sh
docker exec 容器ID [shell解释器] -c '命令1 && 命令2'
```

- ubuntu安装mysql-clinet

```sh
docker run -itd --name=ubuntu_test ubuntu:18.04

docker exec -it ubuntu_test bash -c 'apt-get update && apt-get install -y mysql-client'
```

##  cp

用于宿主机与容器内文件拷贝

- 宿主机 -> 容器

```sh
docker cp 宿主机文件路径 容器ID:容器目标路径
```

- 容器 -> 宿主机

```sh
docker cp 容器ID:容器文件路径 宿主机目标路径
```

## export

- 打包

```sh
docker export 容器ID > 压缩包.tar
```

## import

- 加载

```sh
docker import 压缩包.tar 容器:tag
```

## inspect

### 容器信息

- IP地址

```sh
docker inspect 容器ID | grep IPAddress
```

![](https://raw.githubusercontent.com/dmjcb/SelfImgur/main/20220219213015.png)


## save

- 打包镜像

```sh
docker save -o 压缩包.jar 镜像名/镜像ID
```

## load

解压镜像

```sh
docker load -i 压缩包
```

## tag

重命名镜像

```sh
docker tag 镜像ID 仓库:TAG
``
